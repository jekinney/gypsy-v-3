{"version":3,"sources":["marketItemDropzone.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"marketItem.js","sourcesContent":["var previewNode = document.querySelector(\"#template\");\npreviewNode.id = '';\nvar previewTemplate = previewNode.parentNode.innerHTML;\npreviewNode.parentNode.removeChild(previewNode);\nvar myDropzone = new Dropzone(document.body, {\n  url: '/admin/market/item/image/store', \n  thumbnailWidth: 200,\n  thumbnailHeight: 200,\n  parallelUploads: 20,\n  previewTemplate: previewTemplate,\n  autoQueue: false, \n  previewsContainer: '#previews', \n  clickable: '.fileinput-button' \n});\nfunction newItemForm() {\n    if(myDropzone.getFilesWithStatus(Dropzone.ADDED).length > 0) {\n        myDropzone.enqueueFiles(myDropzone.getFilesWithStatus(Dropzone.ADDED));\n        myDropzone.on('sending', function(file) {\n            document.querySelector('#total-progress').style.opacity = '1';\n            document.querySelector(\".start\").setAttribute('disabled', 'disabled');\n        });\n         myDropzone.on('totaluploadprogress', function(progress) {\n            document.querySelector('#total-progress .progress-bar').style.width = progress + '%';\n        });\n        myDropzone.on('queuecomplete', function(progress) {\n            document.querySelector('#total-progress').style.opacity = '0';\n            document.getElementById('form').submit();\n        });\n    } else {\n        document.getElementById('form').submit();\n    }\n};"],"sourceRoot":"/source/"}